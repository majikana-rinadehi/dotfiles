# 各設定ファイルから共通的に読み込まれる

# function
function mkcd(){ mkdir $1 && cd $1; }

# alias

## linux
alias ..='cd ../'
alias ...='cd ../../'
alias a='alias'
### format table (e.g. ip r | ct)
alias ct='column -t'
alias ls='ls --color=auto -G'
alias ll='ls -l'
alias la='ls -la'
alias grep='grep -E --color=auto'
alias setalias='vim ~/.zshrc && source ~/.zshrc && alias'
alias mkcd=mkcd
alias findr='find . -type f | grep -E'
alias m='make'
alias t='time'
alias tm='time make'
alias rm='rm -iv'

## git command
alias g='git'
alias ga='git add'
alias gb='git branch'
alias gl='git log --graph'
alias gsh='git stash'
alias gst='git status'
alias gsts='git status -s'
alias gc='git add . && git commit'
alias gsc='git switch -c'
alias gsw='git switch'
alias gs='git show'
alias gsn='git show --name-only'
alias gpl='git pull'
alias gps='git push'
alias gdf="gl | grep -m 2 commit | awk '{print \$NF}' | xargs -t git diff"
### only displays file name diff
alias gdfn="gl | grep -m 2 commit | awk '{print \$NF}' | xargs -t git diff --name-only"
alias gwt="git worktree"

## web dev
alias y='yarn'
alias ya='yarn add'
alias yb='yarn build'
alias ybd='yarn build && yarn dev'
alias yd='yarn dev'
alias ydm='yarn dev:mock'

## docker command
alias d='docker'
alias dc='docker compose'
alias dcu='docker compose up'
alias di='docker images'
alias dv='docker volume'
alias dn='docker network'
alias de='docker exec'
alias dp='docker ps'

## aws
alias asu='aws-sso-util'
alias asul='aws-sso-util login'

## Rust
alias ru='rustup'
alias rc='rustc'
alias cg='cargo'
alias cgb='cargo build'
alias cgc='cargo check'
alias cgr='cargo run'
alias cgt='cargo test'

# 環境変数
## ターミナルフォーマット
export LESSCHARSET=utf-8

## ロケール・文字コード
export LC_ALL=ja_JP.utf8
export LANG=ja_JP.utf8
export LANGUAGE=ja_JP.utf8
export LC_CTYPE="ja_JP.utf8"
export LC_NUMERIC="ja_JP.utf8"
export LC_TIME="ja_JP.utf8"
export LC_COLLATE="ja_JP.utf8"
export LC_MONETARY="ja_JP.utf8"
export LC_MESSAGES="ja_JP.utf8"

### 出力後に改行
function add_line {
  if [[ -z "${PS1_NEWLINE_LOGIN}" ]]; then
    PS1_NEWLINE_LOGIN=true
  else
    printf '\n'
  fi
}
PROMPT_COMMAND='add_line'
