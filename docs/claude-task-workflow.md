# Claudeでのタスク進行ワークフロー

このドキュメントでは、Claudeを使用してタスクを進める際の標準的なワークフローを説明します。

## 1. ISSUEの作成

タスクを開始する前に、まず課題に対してGitHub ISSUEを作成します。

```bash
# GitHub CLIを使用してISSUEを作成
gh issue create --title "タスクのタイトル" --body "タスクの詳細説明"
```

## 2. サブISSUEの作成と管理

複雑なタスクの場合、サブISSUEを作成して管理します。

### サブISSUE作成時の手順
1. サブISSUEを個別に作成
2. 親ISSUEの本文にチェックボックス付きリストとして追加
3. 各サブISSUEへのリンクを含める

### 親ISSUEの本文例
```markdown
## サブタスク
- [ ] #123
- [ ] #124
- [ ] #125
```

## 3. ワークツリーの作成

ISSUEを作成後、**必ず**issue毎にワークツリーを作成し、そのワークツリーに移動してから作業を行います。

### ワークツリー作成の手順

1. 現在のブランチから変更を保存またはコミット
2. mainブランチが最新版であることを確認
3. issue番号を含むワークツリーを作成
4. 作成したワークツリーに移動

```bash
# 現在のブランチの状態を確認
git status

# 必要に応じて現在の変更をコミットまたはスタッシュ
git add .
git commit -m "作業中の変更を保存" # または git stash

# 最新のmainブランチを取得
git checkout main
git pull origin main

# ワークツリーを作成（wtコマンドを使用）
wt create feature/issue-番号-概要

# 作成したワークツリーに移動
wt move feature/issue-番号-概要
```

### ワークツリー管理コマンド

```bash
# ワークツリー一覧を表示
wt list

# ワークツリーに移動
wt move ワークツリー名

# ワークツリーを削除（作業完了後）
wt remove ワークツリー名
```

### 重要な注意事項

- **必ずissue毎にワークツリーを作成する**
- **実装作業はワークツリーに移動してから行う**
- 他のワークツリーから直接作業を開始しない
- ワークツリー名にはissue番号を含める（例: `feature/issue-42-worktree-management`）
- ワークツリー関連の操作は**wtコマンド**を使用する

## 4. 実装とドキュメント化

### 実装中の作業
- 実装を進めながら、必要に応じてISSUEにコメントを追加
- 調査結果や背景情報をISSUE上に記録
- 実装の進捗状況を定期的に更新

### ISSUEへのコメント追加
```bash
# GitHub CLIを使用してコメントを追加
gh issue comment ISSUE番号 --body "調査結果や背景情報"
```

## 5. プルリクエストの作成

実装が完了したら、プルリクエストを作成します。

### PR本文に含める内容
1. **概要**: 実装内容の簡潔な説明
2. **変更内容**: 具体的な変更点のリスト
3. **テスト計画**: テストの実施方法と確認項目

### PRテンプレート例
```markdown
## 概要
このPRでは[機能/修正内容]を実装しました。

## 変更内容
- 変更点1の説明
- 変更点2の説明
- 変更点3の説明

## テスト計画
- [ ] ユニットテストの実行
- [ ] 統合テストの確認
- [ ] 手動テストのシナリオ
  - シナリオ1: [具体的なテスト手順]
  - シナリオ2: [具体的なテスト手順]

## 関連ISSUE
Closes #ISSUE番号
```

### PRの作成コマンド
```bash
# GitHub CLIを使用してPRを作成
gh pr create --title "PR title" --body "$(cat <<'EOF'
## 概要
実装内容の説明

## テスト計画
[テスト項目のチェックリスト]
EOF
)"
```

## 重要事項

- すべての成果物（ISSUE、コメント、PR）は**日本語**で作成する
- コミットメッセージも日本語で記載することを推奨
- 定期的にmainブランチとの同期を保つ
- レビュー指摘事項は迅速に対応し、ISSUEにも反映する

## ワークフローの利点

1. **透明性**: すべての作業過程が記録される
2. **追跡可能性**: ISSUEとPRの関連付けにより、変更履歴が明確
3. **協調作業**: チームメンバーとの情報共有が容易
4. **品質管理**: テスト計画により品質を担保